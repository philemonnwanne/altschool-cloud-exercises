# #!/bin/bash

# echo "Hello, who are you?"
# read $REPLY

# echo "Can I ask you some questions?"
# read $REPLY

# echo "What is your favorite topic?"
# read $REPLY

admin@ip-172-31-0-11

- hosts: "{{ hosts }}"
  tasks:
  - name: mysql_secure_installation Command Test
    expect:
      command: mysql_secure_installation
      responses:
        'Enter current password for root (enter for none):': "\n"
        'Set root password? [Y/n]:': 'y'
        'New password:': '123456'
        'Re-enter new password:': '123456'
        'Remove anonymous users? [Y/n]:': 'y'
        'Disallow root login remotely? [Y/n]:': 'y'
        'Remove test database and access to it? [Y/n]:': 'y'
        'Reload privilege tables now? [Y/n]:': 'y'



The reason is that the questions are interpreted as regexps. Hence you must escape characters with a special meaning in regular expressions, such as -()[]\?*. et cetara.

Hence:

'Enter current password for root (enter for none):'
should instead be:

'Enter current password for root \(enter for none\):'